(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2575,e=>{"use strict";var t=e.i(26811),a=e.i(94340);function l(e){let l,r,s=(0,a.c)(3),{message:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"mt-0.5 size-4",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})}),s[0]=l):l=s[0];let i=d||"Something went wrong";return s[1]!==i?(r=(0,t.jsx)("div",{role:"alert",className:"border-2 bg-red-100 p-4 text-red-900 shadow-[4px_4px_0_0]",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[l,(0,t.jsx)("strong",{className:"block flex-1 leading-tight font-semibold",children:i})]})}),s[1]=i,s[2]=r):r=s[2],r}e.i(69404),e.s(["default",()=>l])},83561,e=>{"use strict";var t=e.i(26811),a=e.i(69404),l=e.i(59627);e.i(40426);var r=e.i(29999);e.i(75586);var s=e.i(72992),d=e.i(80731),i=e.i(2575),o=e.i(94340);function n(e){let a,l,r=(0,o.c)(3),{message:s}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"mt-0.5 size-4",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z",clipRule:"evenodd"})}),r[0]=a):a=r[0];let d=s||"Operation successful";return r[1]!==d?(l=(0,t.jsx)("div",{role:"alert",className:"border-2 bg-green-100 p-4 text-green-900 shadow-[4px_4px_0_0]",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[a,(0,t.jsx)("strong",{className:"block flex-1 leading-tight font-semibold",children:d})]})}),r[1]=d,r[2]=l):l=r[2],l}function c(){let{user:e}=(0,l.useAuth)(),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[b,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)({displayName:"",photoURL:"",street:"",city:"",zipCode:""});(0,a.useEffect)(()=>{if(e){let t={displayName:e.displayName||"",photoURL:e.photoURL||"",street:"",city:"",zipCode:""};(async()=>{try{let a=(0,s.doc)(d.db,"users",e.uid),l=await (0,s.getDoc)(a);if(l.exists()){let e=l.data();e.address&&(t.street=e.address.street||"",t.city=e.address.city||"",t.zipCode=e.address.zipCode||"")}h(t)}catch(e){console.error("Error fetching user data:",e),c("Failed to load profile data.")}finally{p(!1)}})()}},[e]);let g=e=>{h({...x,[e.target.name]:e.target.value})},f=async t=>{if(t.preventDefault(),c(""),m(""),e)try{await (0,r.updateProfile)(e,{displayName:x.displayName,photoURL:x.photoURL});let t=(0,s.doc)(d.db,"users",e.uid);await (0,s.setDoc)(t,{address:{street:x.street,city:x.city,zipCode:x.zipCode}},{merge:!0}),console.log("Document written with ID: ",t.id),console.log("Profile updated"),m("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e),c(e.message)}};return e?(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto p-6 bg-white border border-gray-200 rounded-xl shadow-sm dark:bg-neutral-900 dark:border-neutral-700",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"User Profile"}),x.photoURL&&(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("img",{className:"inline-block size-24 rounded-full ring-2 ring-white dark:ring-neutral-800",src:x.photoURL,alt:"Profile Preview"})}),o&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(i.default,{message:o})}),u&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(n,{message:u})}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 dark:text-white",children:"Email"}),(0,t.jsx)("input",{type:"email",value:e.email||"",readOnly:!0,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm bg-gray-100 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-2 dark:text-white",children:"Display Name"}),(0,t.jsx)("input",{type:"text",id:"displayName",name:"displayName",value:x.displayName,onChange:g,disabled:b,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",placeholder:"Enter your display name"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"photoURL",className:"block text-sm font-medium mb-2 dark:text-white",children:"Photo URL"}),(0,t.jsx)("input",{type:"text",id:"photoURL",name:"photoURL",value:x.photoURL,onChange:g,disabled:b,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",placeholder:"https://example.com/avatar.jpg"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium mb-2 dark:text-white",children:"Street"}),(0,t.jsx)("input",{type:"text",id:"street",name:"street",value:x.street,onChange:g,disabled:b,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",placeholder:"Street"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium mb-2 dark:text-white",children:"City"}),(0,t.jsx)("input",{type:"text",id:"city",name:"city",value:x.city,onChange:g,disabled:b,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",placeholder:"City"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium mb-2 dark:text-white",children:"Zip Code"}),(0,t.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:x.zipCode,onChange:g,disabled:b,className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",placeholder:"Zip Code"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:b,className:"w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-hidden focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:b?"Loading...":"Save Changes"})]})]}):null}e.s(["default",()=>c],83561)}]);